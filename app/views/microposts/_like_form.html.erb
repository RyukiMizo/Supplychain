<% if logged_in? %>

<div id="like">
<% if current_user.likes.find_by(micropost_id: @micropost.id).nil? %>
      <%= link_to "/likes/#{@micropost.id}", method: :post, 
                                 remote: true do %>
         <div class="btn btn-default like-btn">
            <i class="fas fa-thumbs-up"></i>
            <%= @micropost.likes_count %>
         </div>
      <% end %>
<% else %>
      <%= link_to "/likes/#{@micropost.id}", method: :delete,
                                 remote: true do %>
         <div class="btn btn-success like-btn">
            <i class="fas fa-check"></i>
            <%= @micropost.likes_count %>
         </div>
      <% end %>
<% end %>
</div>

<% else %>
<%= link_to "/login" do %>
<div class="btn btn-default like-btn">
   <i class="fas fa-thumbs-up"></i>
   <%= @micropost.likes_count %>
</div>
<% end %>
<% end %>